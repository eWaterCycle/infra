# Teaching with eWaterCycle infra

The grading setup is [one class, one grader](https://nbgrader.readthedocs.io/en/stable/configuration/jupyterhub_config.html#example-use-case-one-class-one-grader).

## SRC workspace creation

During creation you can set the `students` parameter to create local posix accounts for students.
The value for the `students` parameter can be generated by running [create_student_passwords.py](create_student_passwords.py) script with list of username (one on each line) as input. See docs in script for more details. The passwords generated by the script should be distributed to the students.

## Students

Assigning students to courses can be managed with [nbgrader labextension & cli](https://nbgrader.readthedocs.io/en/stable/user_guide/managing_the_database.html#managing-students).

The student id is a posix username in the VM.
In a ewatercycle VM, users can be added during workspace creation or with [Surf Research Access Management](https://sram.surf.nl/) or later with `sudo adduser`.
After sram invite a cronjob will add the user to the VM. Login with totp as password.

## Create assignment

1. In menu goto Nbgrader -> Formgrader -> Manage Assignments -> Add new Assignment.
2. Click on edit to navigate to folder (`~/course/source/<name of assignment>`).
3. Create a notebook with assignment annotations using the `Create Assignment` sidebar.
4. In FormGrader press Generate, Preview, Release buttons.

## Fetch assignment

1. In menu got Nbgrader -> Assignments
2. Press fetch button
