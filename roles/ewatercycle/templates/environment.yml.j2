---
# TODO pin more versions so future deployments have more chance to work
name: ewatercycle
channels:
  - conda-forge
  - defaults
dependencies:
  - pip:
      - ewatercycle=={{ pyewatercycle_version }}
      - ewatercycle-hype==0.0.1
      - ewatercycle-lisflood==0.0.1
      - ewatercycle-marrmot==0.0.2
      - ewatercycle-pcrglobwb==0.0.2
      - ewatercycle-wflow==0.0.2
      - ewatercycle-leakybucket==0.0.2
      - ewatercycle-HBV==1.8.4
      # TODO Once ewatercycle-wflowjl uses a containerized model, uncomment the following line:
      # - ewatercycle-wflowjl
      # TODO Once available uncomment the following line
      # - git+https://github.com/eWaterCycle/ewatercycle-sfincs
      - era5cli==1.0.0
      # Conda version of jupyterhub-systemdspawner is not py3.12 compat, so use pip version
      - jupyterhub-systemdspawner==1.0.1
      # Conda version of papermill is not py3.12 compat, so use pip version
      - papermill==2.6.0
  - altair_saver==0.5.0
  - altair=5.4.1
  - nco=5.2.8
  - ncview=2.1.8
  - regionmask=0.12.1
  - pyke=1.1.1  # required by iris, only available on conda or sourceforge
  - iris-sample-data=2.4.0 # for sample notebooks, see https://github.com/eWaterCycle/notebooks/issues/15
  # Pangeo deps, see https://pangeo.io/setup_guides/hpc.html
  - hvplot=0.8.1
  # Lint / formatters
  - autopep8=2.3.1
  - black=24.8.0  # Still dependenciy of bmi package, but make explicit here as main hbranch of bmi repo removed it
  - flake8=7.1.1
  - isort=5.13.2
  - pylint=3.2.7
  - yapf=0.40.1
  # Pymt
  # Disabled as it does not work with python3.12
  # - pymt_cem
  # - pymt_ecsimplesnow
  # - pymt_gipl
  # - pymt_hydrotrend
  # - pymt_landlab
  # - pymt_permamodel
  # - pymt_rafem
  # - pymt_sedflux
  # - pymt
  # - pymt_child  # Skipped as only a osx binary is available
  # - pymt_topoflow  # Skipped not on conda-forge
  # Jupyter
  - jupyter-server-proxy=4.4.0
  - jupyterhub=5.1.0
  - jupyterlab=4.2.5
  - notebook=7.2.2
  - ipykernel=6.29.5
  - ipympl=0.9.4
  - ipynb-py-convert=0.4.6
  - jupyterhub-idle-culler=1.3.1
  - nodejs=22.7.0
  # JupyterLab extensions server dependencies, lab extension should be added to defaults of jupyter role
  - ipyleaflet=0.19.2
  - jupyterlab_code_formatter=3.0.2
  - dask-labextension=7.0.0
  - jupyterlab-geojson=3.4.0
  - jupyter_bokeh=4.0.5
  - pyviz_comms=3.0.3
  - jupyterlab-git=0.50.1
  - nbdime=4.0.1
  - nbgitpuller=1.2.1
